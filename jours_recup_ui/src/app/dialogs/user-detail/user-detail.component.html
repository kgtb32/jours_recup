<app-edit-component (dataChanged)="this.editUserInfo('LASTNAME_EDIT', $event)" description="Nom" [data]="this.user.lastName"></app-edit-component>
<app-edit-component (dataChanged)="this.editUserInfo('FIRSTNAME_EDIT', $event)" description="Prénom" [data]="this.user.firstName"></app-edit-component>
<app-recuperation-days-edit [baseData]="this.user.recuperationDays" (dataChanged)="editRecuperationDays($event)"></app-recuperation-days-edit>

<div class="d-flex justify-content-between mt-2">
    <h2>Évennements :</h2>
    <div>
        <p-button severity="danger" icon="pi pi-trash" label="Effacer" (click)="clearHistory()"></p-button>
    </div>
</div>
<div>
    <div style="overflow: auto; max-height: 46vh; padding-right: 1em">
        <p-table [value]="history" styleClass="p-datatable-sm p-datatable-striped" [rows]="5" [rowsPerPageOptions]="[5, 10, 20]" [paginator]="true">
            <ng-template pTemplate="header">
                <tr>
                    <th scope="col">Type</th>
                    <th scope="col">Date</th>
                    <th scope="col">Ancienne valeur</th>
                    <th scope="col">Nouvelle valeur</th>
                    <th scope="col">Motif</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-event>
                <tr>
                    <td>{{ this.eventsTranslations[event.action] }}</td>
                    <td>{{ getDate(event.date) }}</td>
                    <td>{{ event.oldValue }}</td>
                    <td>{{ event.newValue }}</td>
                    <td>{{ event.reason }}</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
